# ๐ ูุธุงู ุงูููุฏ ุงูุนุดูุงุฆู ูุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ - ุงูุชุทุจูู ุงููุงูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุชุทูุฑ ูุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู **ููุฏ ุนุดูุงุฆู ูููู ูู 6 ุฃุฑูุงู** ุจุฏูุงู ูู ุงูุฑุงุจุท ุงูุชูููุฏู. ูุฐุง ุงููุธุงู ุฃูุซุฑ ุฃูุงูุงู ููุฑููุฉ.

## โจ ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ

### ๐ ุงูุฃูุงู
- โ ููุฏ ุนุดูุงุฆู ูุง ูููู ุชุฎูููู
- โ ุงูุชูุงุก ุตูุงุญูุฉ ุฎูุงู 15 ุฏูููุฉ
- โ ุงุณุชุฎุฏุงู ูุงุญุฏ ููุท ููู ููุฏ
- โ ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูุจู ุงูุฅุฑุณุงู

### ๐ง ุงูุฑุณุงูุฉ ุงูุงุญุชุฑุงููุฉ
- โ ุชุตููู ุนุฑุจู ูุชุทูุฑ
- โ ุฅุธูุงุฑ ุงูููุฏ ุจุดูู ูุงุถุญ ูุจุงุฑุฒ
- โ ุชุนูููุงุช ููุตูุฉ ููุงุณุชุฎุฏุงู
- โ ุชุญุฐูุฑุงุช ุฃูููุฉ ูููุฉ

### ๐จ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- โ 3 ุฎุทูุงุช ุจุณูุทุฉ ููุงุถุญุฉ
- โ ุฑุณุงุฆู ูุฌุงุญ ูุฎุทุฃ ูุงุถุญุฉ
- โ ุชุตููู ูุชุฌุงูุจ ููุฌูุงู

## ๐ ุฎุทูุงุช ุงูุชุทุจูู

### 1. ุฅูุดุงุก ุฌุฏูู ุฑููุฒ ุงูุชุญูู

ุงูุณุฎ ูุงูุตู ูุฐุง ุงูููุฏ ูู **Supabase SQL Editor**:

```sql
-- ุฅูุดุงุก ุฌุฏูู password_reset_codes
CREATE TABLE IF NOT EXISTS public.password_reset_codes (
    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
    email TEXT NOT NULL,
    code TEXT NOT NULL,
    expires_at TIMESTAMP WITH TIME ZONE NOT NULL,
    used BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- ุฅุถุงูุฉ ููุงุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก
CREATE INDEX IF NOT EXISTS idx_password_reset_codes_email ON public.password_reset_codes(email);
CREATE INDEX IF NOT EXISTS idx_password_reset_codes_code ON public.password_reset_codes(code);
CREATE INDEX IF NOT EXISTS idx_password_reset_codes_expires_at ON public.password_reset_codes(expires_at);

-- ุชูุนูู Row Level Security
ALTER TABLE public.password_reset_codes ENABLE ROW LEVEL SECURITY;

-- ุฅูุดุงุก ุณูุงุณุงุช ุงูุฃูุงู
CREATE POLICY "Allow insert reset codes" ON public.password_reset_codes
    FOR INSERT WITH CHECK (true);

CREATE POLICY "Allow select own reset codes" ON public.password_reset_codes
    FOR SELECT USING (true);

CREATE POLICY "Allow update own reset codes" ON public.password_reset_codes
    FOR UPDATE USING (true);

-- ุฅูุดุงุก ุฏุงูุฉ ูุญุฐู ุงูุฑููุฒ ุงูููุชููุฉ ุงูุตูุงุญูุฉ ุชููุงุฆูุงู
CREATE OR REPLACE FUNCTION public.cleanup_expired_reset_codes()
RETURNS void AS $$
BEGIN
    DELETE FROM public.password_reset_codes 
    WHERE expires_at < NOW() OR used = true;
END;
$$ LANGUAGE plpgsql;
```

### 2. ุฅุถุงูุฉ ุงูุญููู ุงูุทุจูุฉ (ุฅู ูู ุชูู ูุถุงูุฉ)

```sql
-- ุฅุถุงูุฉ ุงูุญููู ุงูุฌุฏูุฏุฉ ุฅูู ุฌุฏูู profiles
ALTER TABLE public.profiles 
ADD COLUMN IF NOT EXISTS age INTEGER,
ADD COLUMN IF NOT EXISTS country TEXT,
ADD COLUMN IF NOT EXISTS gender TEXT CHECK (gender IN ('ุฐูุฑ', 'ุฃูุซู')),
ADD COLUMN IF NOT EXISTS marital_status TEXT CHECK (marital_status IN ('ูุชุฒูุฌ', 'ุฃุนุฒุจ')),
ADD COLUMN IF NOT EXISTS previous_medical_conditions TEXT,
ADD COLUMN IF NOT EXISTS is_smoker BOOLEAN DEFAULT FALSE,
ADD COLUMN IF NOT EXISTS current_diseases TEXT,
ADD COLUMN IF NOT EXISTS surgeries TEXT,
ADD COLUMN IF NOT EXISTS chronic_diseases TEXT,
ADD COLUMN IF NOT EXISTS current_medications TEXT,
ADD COLUMN IF NOT EXISTS has_drug_allergies BOOLEAN DEFAULT FALSE,
ADD COLUMN IF NOT EXISTS drug_allergies_details TEXT;
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู

```bash
# ุชุดุบูู ุงูุชุทุจูู
npm run dev

# ุงูุชูู ุฅูู http://localhost:3000
# ุฌุฑุจ "ูู ูุณูุช ูููุฉ ุงููุฑูุฑุ"
```

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู

### ุงููุฑุญูุฉ 1: ุฅุฏุฎุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
1. ุงููุณุชุฎุฏู ูุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู
2. ุงููุธุงู ูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ูุชู ุชูููุฏ ููุฏ ุนุดูุงุฆู ูููู ูู 6 ุฃุฑูุงู
4. ูุชู ุญูุธ ุงูููุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ
5. ูุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุงูุงุญุชุฑุงููุฉ ุจุงูููุฏ

### ุงููุฑุญูุฉ 2: ุงูุชุญูู ูู ุงูููุฏ
1. ุงููุณุชุฎุฏู ูุฏุฎู ุงูููุฏ ุงููููู ูู 6 ุฃุฑูุงู
2. ุงููุธุงู ูุชุญูู ูู:
   - ุตุญุฉ ุงูููุฏ
   - ุนุฏู ุงูุชูุงุก ุงูุตูุงุญูุฉ (15 ุฏูููุฉ)
   - ุนุฏู ุงุณุชุฎุฏุงู ุงูููุฏ ูุณุจูุงู
3. ุฅุฐุง ูุงู ุงูููุฏ ุตุญูุญุ ูุชู ุชูููุฒู ููุณุชุฎุฏู
4. ุงูุงูุชูุงู ูููุฑุญูุฉ ุงูุชุงููุฉ

### ุงููุฑุญูุฉ 3: ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ
1. ุงููุณุชุฎุฏู ูุฏุฎู ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ
2. ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ
3. ุงูุชุญูู ูู ุชุทุงุจู ูููุงุช ุงููุฑูุฑ
4. ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. ุชูุธูู ุงูุฑููุฒ ุงููุณุชุฎุฏูุฉ
6. ุงูุนูุฏุฉ ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- **React + TypeScript**
- **Tailwind CSS** ููุชุตููู
- **Lucide Icons** ููุฑููุฒ
- **RTL Support** ููุนุฑุจูุฉ

### ุงูุฎูููุฉ
- **Supabase** ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุตุงุฏูุฉ
- **PostgreSQL** ูุญูุธ ุงูุจูุงูุงุช
- **Row Level Security** ููุฃูุงู

### ุงูุฃูุงู
- **ุงูุชูุงุก ุตูุงุญูุฉ ุชููุงุฆู** (15 ุฏูููุฉ)
- **ุงุณุชุฎุฏุงู ูุงุญุฏ ููุท** ููู ููุฏ
- **ุชุดููุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
- **ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู**

## ๐ง ุฅุนุฏุงุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)

### ููุงุณุชุฎุฏุงู ุงููุญูู (ุงูุชุทููุฑ)
ุงููุธุงู ุงูุญุงูู ูุทุจุน ุงูููุฏ ูู **Console** ููุงุฎุชุจุงุฑ:

```javascript
console.log(`Reset code for ${email}: ${code}`)
```

### ููุฅูุชุงุฌ (Production)
ูููู ุฏูุฌ ุฎุฏูุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:

#### ุฎูุงุฑ 1: SendGrid
```bash
npm install @sendgrid/mail
```

#### ุฎูุงุฑ 2: Resend
```bash
npm install resend
```

#### ุฎูุงุฑ 3: AWS SES
```bash
npm install @aws-sdk/client-ses
```

## ๐จ ุงูุฑุณุงูุฉ ุงูุงุญุชุฑุงููุฉ

### ููุงุตูุงุช ุงูุชุตููู:
- **ูุบุฉ ุนุฑุจูุฉ ูุงููุฉ** ูุน RTL
- **ุชุตููู ุนุตุฑู** ูุน gradients
- **ููุฏ ุจุงุฑุฒ ููุงุถุญ** ุจุฎุท ูุจูุฑ
- **ุชุนูููุงุช ููุตูุฉ** ุฎุทูุฉ ุจุฎุทูุฉ
- **ุชุญุฐูุฑุงุช ุฃูููุฉ** ูููุฉ
- **ูุชุฌุงูุจ** ููุฌูุงู ูุงูููุจููุชุฑ

### ูุญุชูู ุงูุฑุณุงูุฉ:
```
๐ฉบ ุชุทุจูู ุงูุชุญููู ุงูุทุจู
ููุตุฉ ุงูุชุญููู ุงูุทุจู ุงูุฐูู

ูุฑุญุจุงู ุจูุ

ุชููููุง ุทูุจุงู ูุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ...

ุฑูุฒ ุงูุชุญูู ุงูุฎุงุต ุจู:
[XXXXXX]
โฑ ููุชูู ุตูุงุญูุฉ ูุฐุง ุงูุฑูุฒ ุฎูุงู 15 ุฏูููุฉ

๐ ุฎุทูุงุช ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ:
1. ุงูุชูู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
2. ุงููุฑ ุนูู "ูู ูุณูุช ูููุฉ ุงููุฑูุฑุ"
3. ุฃุฏุฎู ุฑูุฒ ุงูุชุญูู...

๐ ุชูุจูู ุฃููู ููู
โข ุฅุฐุง ูู ุชุทูุจ ุฅุนุงุฏุฉ ุชุนููู...
โข ูุง ุชุดุงุฑู ุฑูุฒ ุงูุชุญูู...
```

## ๐ ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุชูููุฏ ุงูููุฏ
```javascript
import { generateResetCode } from '@/lib/passwordReset'
const code = generateResetCode()
console.log(code) // Should be 6 digits
```

### 2. ุงุฎุชุจุงุฑ ุญูุธ ุงูููุฏ
```sql
SELECT * FROM password_reset_codes ORDER BY created_at DESC;
```

### 3. ุงุฎุชุจุงุฑ ุงูุชุญูู
```javascript
const isValid = await verifyResetCode('test@example.com', '123456')
console.log(isValid)
```

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ุงูููุฏ ูุง ูุชู ุฅุฑุณุงูู
**ุงูุญููู:**
1. ุชุญูู ูู ุฅูุดุงุก ุฌุฏูู `password_reset_codes`
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู ุฌุฏูู `profiles`
3. ุชุญูู ูู **Console** ูุฑุคูุฉ ุงูููุฏ ุงููููุฏ

### ูุดููุฉ: ุงูููุฏ ูุง ูุชู ูุจููู
**ุงูุญููู:**
1. ุชุฃูุฏ ูู ุฅุฏุฎุงู ุงูููุฏ ุจุงูุถุจุท ููุง ูุตู
2. ุชุญูู ูู ุนุฏู ุงูุชูุงุก ุงูุตูุงุญูุฉ (15 ุฏูููุฉ)
3. ุชุฃูุฏ ูู ุนุฏู ุงุณุชุฎุฏุงู ุงูููุฏ ูุณุจูุงู

### ูุดููุฉ: ูุง ูุชู ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ
**ุงูุญููู:**
1. ุชุญูู ูู ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุฃูุฏ ูู ุชุทุงุจู ูููุงุช ุงููุฑูุฑ
3. ุชุญูู ูู ููู ูููุฉ ุงููุฑูุฑ 6 ุฃุญุฑู ุนูู ุงูุฃูู

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ

### ุงุณุชุนูุงูุงุช ูููุฏุฉ:

```sql
-- ุนุฏุฏ ุฑููุฒ ุงูุชุญูู ุงููุฑุณูุฉ ุงูููู
SELECT COUNT(*) FROM password_reset_codes 
WHERE created_at >= CURRENT_DATE;

-- ุงูุฑููุฒ ุงูููุชููุฉ ุงูุตูุงุญูุฉ
SELECT COUNT(*) FROM password_reset_codes 
WHERE expires_at < NOW();

-- ุงูุฑููุฒ ุงููุณุชุฎุฏูุฉ
SELECT COUNT(*) FROM password_reset_codes 
WHERE used = true;

-- ุชูุธูู ุงูุฑููุฒ ุงููุฏููุฉ
SELECT public.cleanup_expired_reset_codes();
```

## ๐ฏ ุงููุชุงุฆุฌ ุงููุญููุฉ

### โ ุงูุฃูุงู
- ููุฏ ุนุดูุงุฆู ุขูู
- ุงูุชูุงุก ุตูุงุญูุฉ ุชููุงุฆู
- ุงุณุชุฎุฏุงู ูุงุญุฏ ููุท
- ุงูุชุญูู ูู ุงููุณุชุฎุฏู

### โ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ูุงุฌูุฉ ุนุฑุจูุฉ ุงุญุชุฑุงููุฉ
- ุฎุทูุงุช ูุงุถุญุฉ ูููุทููุฉ
- ุฑุณุงุฆู ูููุฏุฉ ููููููุฉ
- ุชุตููู ูุชุฌุงูุจ

### โ ุงููุธุงุฆู
- ุฅุฑุณุงู ููุฏ ุชููุงุฆู
- ุงูุชุญูู ุงูุขูู
- ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ
- ุชูุธูู ุงูุจูุงูุงุช

## ๐ฎ ุชุทููุฑุงุช ูุณุชูุจููุฉ

### ูููู ุฅุถุงูุฉ:
- **SMS OTP** ูุฅุฑุณุงู ุงูููุฏ ุนุจุฑ ุงูุฑุณุงุฆู ุงููุตูุฉ
- **Multiple attempts protection** ูููุน ุงูุชุฎููู
- **Rate limiting** ูููุน ุงูุฅุฑุณุงู ุงููุชูุฑุฑ
- **Email templates customization** ูุชุฎุตูุต ุฃูุซุฑ
- **Analytics dashboard** ููุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู

---

## ๐ **ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**

> ุชู ุฅูุดุงุก ูุธุงู ูุชุทูุฑ ูุขูู ูุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู ุงูููุฏ ุงูุนุดูุงุฆู ูุน ุฃูุถู ุงูููุงุฑุณุงุช ุงูุฃูููุฉ ูุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฑุงุฆุนุฉ.

**ุงูุชุงุฑูุฎ:** $(date)  
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ  
**ุงูุฌูุฏุฉ:** โญโญโญโญโญ ููุชุงุฒ 